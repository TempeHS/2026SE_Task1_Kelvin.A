{% extends 'layout.html' %} {% block content %}
<div class="d-flex justify-content-center align-items-center min-vh-100">
  <div class="card p-4" style="width: 100%; max-width: 600px">
    <h1 class="card-title text-center mb-3">Setup Two-Factor Authentication</h1>

    <div class="alert alert-info">
      <h5>Secure Your Account</h5>
      <p>
        Two-factor authentication adds an extra layer of security to your
        account.
      </p>
    </div>

    {% if qr_code %}
    <div class="mb-4">
      <h5>Step 1: Scan QR Code</h5>
      <p>
        Use your authenticator app (Google Authenticator, Authy, Microsoft
        Authenticator, etc.) to scan this code:
      </p>
      <div class="text-center my-3">
        <img
          src="{{ qr_code }}"
          alt="QR Code"
          class="border p-2"
          style="max-width: 300px"
        />
      </div>

      <h5>Step 2: Manual Entry (Optional)</h5>
      <p>If you can't scan the QR code, enter this key manually:</p>
      <div class="alert alert-secondary text-center">
        <code style="font-size: 1.1rem">{{ secret_key }}</code>
      </div>

      <h5>Step 3: Done!</h5>
      <p>Your authenticator app will now generate codes for "{{ email }}"</p>
    </div>
    {% endif %}

    <div class="text-center">
      <a href="/index.html" class="btn btn-primary">Back to Home</a>
    </div>
  </div>
</div>
{% endblock %}
